#!/usr/bin/env python
# -*- coding: utf-8 -*-

def call_suprise(current_frame, bp_loc, internal):
    current_frame.EvaluateExpression("hidden_function(3)")
    return False

def __lldb_init_module(debugger, internal_dict):
    print("loaded")
    target = debugger.GetSelectedTarget()
    breakpoint = target.BreakpointCreateByName("main")
    breakpoint.SetScriptCallbackFunction("lldb_call_suprise.call_suprise")
